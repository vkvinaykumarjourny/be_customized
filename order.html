<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Order via WhatsApp</title>

<style>
body{
  font-family:Arial;
  background:#f2f2f2;
  padding:30px;
}
.container{
  display:flex;
  gap:30px;
  background:#fff;
  padding:20px;
  border-radius:12px;
}
.image-box,.form-box{flex:1}
.image-box img{
  width:100%;
  border-radius:10px;
  border:1px solid #ddd;
}
input,textarea,button{
  width:100%;
  padding:10px;
  margin-bottom:12px;
  border-radius:6px;
  border:1px solid #ccc;
}
.order-btn{
  background:#25D366;
  color:#fff;
  border:none;
  font-size:16px;
}
.back-btn{
  background:#000;
  color:#fff;
  border:none;
}
@media(max-width:768px){
  .container{flex-direction:column}
}
</style>
</head>

<body>

<div class="container">

  <div class="image-box">
    <img id="selectedImage">
  </div>

  <div class="form-box">
    <h2>Place Order</h2>
    <p id="category"></p>

    <input type="text" id="name" placeholder="Full Name" required>
    <input type="tel" id="mobile" placeholder="Mobile Number" required>
    <textarea id="details" placeholder="Printing details"></textarea>

    <button class="order-btn" onclick="sendWhatsApp()">Order via WhatsApp</button>
    <button class="back-btn" onclick="goBack()">‚¨Ö Back</button>
  </div>

</div>

<script>
const params = new URLSearchParams(window.location.search);
const img = params.get("img");
const cat = params.get("cat");

if(!img){
  alert("Please select a template");
  window.location.href = "index.html";
}

const fullImg = new URL(img, window.location.origin).href;

document.getElementById("selectedImage").src = fullImg;
document.getElementById("category").innerText = "Category: " + cat;

function sendWhatsApp(){
  const name = document.getElementById("name").value;
  const mobile = document.getElementById("mobile").value;
  const details = document.getElementById("details").value;

  if(!name || !mobile){
    alert("Fill required fields");
    return;
  }

  const msg =
`üñ®Ô∏è New Printing Order
üë§ Name: ${name}
üìû Mobile: ${mobile}
üìù Details: ${details}

üñºÔ∏è Design:
${fullImg}`;

  const phone = "8431452355";
  window.open("https://wa.me/"+phone+"?text="+encodeURIComponent(msg));
}

function goBack(){
  history.back();
}
</script>

</body>
</html>